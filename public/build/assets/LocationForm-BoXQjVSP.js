import{o as s,e as o,d as c,k as b,a as e,l as p,H as v,t as y,f as u,b as _,i as g}from"./app-CjOyLFBD.js";import{u as k}from"./LocationStore-DrHVDXRN.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";const w={},S={class:"spinner"};function E(m,l){return s(),o("div",S)}const V=h(w,[["render",E],["__scopeId","data-v-46331893"]]),L={key:0,class:"text-red-500"},N={class:"flex space-x-4"},B={class:"flex-1"},I={key:0,class:"text-red-500 text-sm mt-1"},C={class:"flex-1"},D={key:0,class:"text-red-500 text-sm mt-1"},M={key:0,class:"mt-4 flex justify-center"},Y={__name:"LocationForm",props:{count:{type:Number,required:!0}},setup(m){const l=k(),a=c(""),r=c(""),n=c(!1),i=b(()=>l.getErrors),x=async()=>{n.value=!0;try{await l.addLocation({city:a.value||"",state:r.value||"",units:"metric"}),a.value="",r.value=""}catch(f){console.error(f)}finally{n.value=!1}};return(f,t)=>m.count>2?(s(),o("p",L," You have reached the maximum number of locations. Please delete a location before adding more. ")):(s(),o("form",{key:1,class:"mt-4 mb-10 border-b-2 pb-10",onSubmit:g(x,["prevent"])},[t[4]||(t[4]=e("h1",{class:"text-indigo-500 mb-4 font-bold"}," Insert the city and state of the location you want to add ",-1)),e("div",N,[e("div",B,[t[2]||(t[2]=e("label",{for:"city",class:"block text-sm font-medium"},"City",-1)),p(e("input",{id:"city","onUpdate:modelValue":t[0]||(t[0]=d=>a.value=d),type:"text",name:"city",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm"},null,512),[[v,a.value]]),i.value.city?(s(),o("div",I,y(i.value.city[0]),1)):u("",!0)]),e("div",C,[t[3]||(t[3]=e("label",{for:"state",class:"block text-sm font-medium"},"State",-1)),p(e("input",{id:"state","onUpdate:modelValue":t[1]||(t[1]=d=>r.value=d),type:"text",name:"state",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm"},null,512),[[v,r.value]]),i.value.state?(s(),o("div",D,y(i.value.state[0]),1)):u("",!0)])]),t[5]||(t[5]=e("div",{class:"mt-4 flex items-center space-x-2"},[e("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white hover:bg-indigo-700"}," REGISTER "),e("p",{class:"text-sm text-gray-500"}," You can register up to 3 locations ")],-1)),n.value?(s(),o("div",M,[_(V)])):u("",!0)],32))}};export{Y as default};
